<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Sign In — Bitcoin Estate Watch</title>
<meta name="robots" content="noindex,nofollow">
<link rel="canonical" href="https://thebitcoinfamilyoffice.com/monitor/login">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=EB+Garamond:wght@400;500&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<script>
(function(){var g=window.dataLayer=window.dataLayer||[];function gtag(){g.push(arguments);}gtag('js',new Date());gtag('config','G-N8PP20VBTV');})();
document.addEventListener('click',function(e){window.dataLayer&&window.dataLayer.push({event:'hm_click',x:e.clientX,y:e.clientY,target:(e.target.tagName||'')});});
var _scrollMilestones={};window.addEventListener('scroll',function(){var pct=Math.round((window.scrollY/(document.body.scrollHeight-window.innerHeight||1))*100);[25,50,75,100].forEach(function(m){if(pct>=m&&!_scrollMilestones[m]){_scrollMilestones[m]=1;window.dataLayer&&window.dataLayer.push({event:'hm_scroll',depth:m});}});});
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-N8PP20VBTV"></script>
<style>
:root{--bg:#0a0a0a;--bg-elevated:#111111;--bg-card:#141414;--border:#1e1e1e;--text:#e8e0d0;--text-secondary:#8a8070;--accent:#c9a84c;--accent-border:rgba(201,168,76,0.2);--display:'Playfair Display',Georgia,serif;--body:'EB Garamond',Georgia,serif;--sans:'Inter',system-ui,sans-serif;}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--bg);color:var(--text);font-family:var(--body);min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;}
.back{font-family:var(--sans);font-size:.75rem;letter-spacing:.1em;text-transform:uppercase;color:var(--text-secondary);text-decoration:none;margin-bottom:3rem;align-self:flex-start;}
.back:hover{color:var(--accent);}
.card{background:var(--bg-elevated);border:1px solid var(--border);border-radius:4px;padding:3rem 2.5rem;max-width:440px;width:100%;}
.logo{font-family:var(--sans);font-size:.7rem;letter-spacing:.15em;text-transform:uppercase;color:var(--accent);margin-bottom:2rem;}
h1{font-family:var(--display);font-size:2rem;font-weight:400;color:var(--text);margin-bottom:.75rem;}
.sub{font-family:var(--sans);font-size:.9rem;color:var(--text-secondary);line-height:1.6;margin-bottom:2rem;}
label{display:block;font-family:var(--sans);font-size:.72rem;letter-spacing:.1em;text-transform:uppercase;color:var(--text-secondary);margin-bottom:.5rem;}
input[type=email]{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:2px;padding:.85rem 1rem;color:var(--text);font-family:var(--sans);font-size:.95rem;outline:none;transition:border .2s;}
input[type=email]:focus{border-color:var(--accent);}
.btn{width:100%;margin-top:1.25rem;background:var(--accent);color:#0a0a0a;border:none;border-radius:2px;padding:1rem;font-family:var(--sans);font-size:.75rem;letter-spacing:.12em;text-transform:uppercase;font-weight:600;cursor:pointer;transition:opacity .2s;}
.btn:hover{opacity:.9;}
.btn:disabled{opacity:.5;cursor:default;}
.msg{margin-top:1.5rem;padding:1rem 1.25rem;border-radius:2px;font-family:var(--sans);font-size:.85rem;line-height:1.6;display:none;}
.msg.success{background:rgba(201,168,76,.08);border:1px solid var(--accent-border);color:var(--accent);}
.msg.error{background:rgba(220,80,80,.08);border:1px solid rgba(220,80,80,.3);color:#e87070;}
.signup-link{margin-top:1.5rem;font-family:var(--sans);font-size:.8rem;color:var(--text-secondary);text-align:center;}
.signup-link a{color:var(--accent);text-decoration:none;}
</style>
</head>
<body>
<a href="/monitor/" class="back">← Back to Estate Watch</a>
<div class="card">
  <div class="logo">Bitcoin Estate Watch</div>
  <h1>Sign in.</h1>
  <p class="sub">Enter your email and we'll send you a magic link — no password needed.</p>
  <form id="loginForm">
    <label for="email">Email address</label>
    <input type="email" id="email" name="email" placeholder="you@example.com" required autocomplete="email">
    <button type="submit" class="btn" id="submitBtn">Send Magic Link →</button>
  </form>
  <div class="msg success" id="successMsg">Check your inbox. We sent a magic link — it expires in 15 minutes.</div>
  <div class="msg error" id="errorMsg"></div>
  <p class="signup-link">No account? <a href="/monitor/signup">Start monitoring →</a></p>
</div>
<script>
document.getElementById('loginForm').addEventListener('submit',async function(e){
  e.preventDefault();
  const email=document.getElementById('email').value.trim();
  const btn=document.getElementById('submitBtn');
  const ok=document.getElementById('successMsg');
  const err=document.getElementById('errorMsg');
  btn.disabled=true; btn.textContent='Sending…';
  ok.style.display='none'; err.style.display='none';
  try{
    const r=await fetch('/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email}),credentials:'include'});
    const d=await r.json();
    if(r.ok){ok.style.display='block'; this.style.display='none';}
    else{err.textContent=d.error||'Something went wrong.'; err.style.display='block'; btn.disabled=false; btn.textContent='Send Magic Link →';}
  }catch(ex){err.textContent='Network error. Please try again.'; err.style.display='block'; btn.disabled=false; btn.textContent='Send Magic Link →';}
});
</script>
<script defer data-cf-beacon='{"token":"3c8ee81a6842447bb64ffc1b8fb36b19"}' src="https://static.cloudflareinsights.com/beacon.min.js"></script>
</body>
</html>
