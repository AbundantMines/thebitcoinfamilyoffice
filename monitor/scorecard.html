<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Succession Scorecard — Bitcoin Estate Watch</title>
  <meta name="description" content="20 measures of heir readiness. Brutally honest. Actionable. Rate your Bitcoin estate plan with the Succession Scorecard." />
  <meta name="robots" content="noindex, nofollow" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=EB+Garamond:ital,wght@0,400;0,500;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <!-- Cloudflare Web Analytics -->
  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "3c8ee81a6842447bb64ffc1b8fb36b19"}'></script>

  <!-- Google Analytics GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8PP20VBTV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8PP20VBTV');

    // hm_scroll event
    let scrollFired50 = false, scrollFired90 = false;
    window.addEventListener('scroll', function() {
      const pct = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
      if (!scrollFired50 && pct >= 50) {
        scrollFired50 = true;
        gtag('event', 'hm_scroll', { depth: 50 });
      }
      if (!scrollFired90 && pct >= 90) {
        scrollFired90 = true;
        gtag('event', 'hm_scroll', { depth: 90 });
      }
    });
  </script>

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0a0a0a;
      --bg-elevated: #111111;
      --bg-card: #141414;
      --border: #1e1e1e;
      --text: #e8e0d0;
      --text-secondary: #8a8070;
      --accent: #c9a84c;
      --accent-border: rgba(201,168,76,0.2);
      --danger: #c94c4c;
      --amber: #c98a4c;
      --green: #4cc97a;
      --radius: 8px;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      font-size: 15px;
      line-height: 1.6;
      min-height: 100vh;
    }

    /* ── NAV ── */
    nav {
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border);
      padding: 0 24px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .nav-back {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 13px;
      font-family: 'Inter', sans-serif;
      letter-spacing: 0.02em;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: color 0.2s;
    }
    .nav-back:hover { color: var(--accent); }

    .nav-logo {
      font-family: 'Playfair Display', serif;
      font-size: 16px;
      font-weight: 600;
      color: var(--text);
      text-decoration: none;
      letter-spacing: 0.01em;
    }
    .nav-logo span { color: var(--accent); }

    /* ── HERO ── */
    .hero {
      padding: 64px 24px 48px;
      text-align: center;
      max-width: 720px;
      margin: 0 auto;
    }

    .hero h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(32px, 5vw, 52px);
      font-weight: 600;
      color: var(--text);
      line-height: 1.15;
      margin-bottom: 16px;
    }

    .hero p {
      font-family: 'EB Garamond', serif;
      font-size: clamp(16px, 2.5vw, 20px);
      color: var(--text-secondary);
      font-style: italic;
    }

    /* ── SCORE CIRCLE ── */
    .score-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 24px 48px;
    }

    .score-circle-wrap {
      position: relative;
      width: 200px;
      height: 200px;
      margin-bottom: 12px;
    }

    .score-svg {
      width: 200px;
      height: 200px;
      transform: rotate(-90deg);
    }

    .score-track {
      fill: none;
      stroke: var(--border);
      stroke-width: 10;
    }

    .score-progress {
      fill: none;
      stroke: var(--accent);
      stroke-width: 10;
      stroke-linecap: round;
      stroke-dasharray: 534.07; /* 2π × 85 */
      stroke-dashoffset: 534.07;
      transition: stroke-dashoffset 0.6s cubic-bezier(0.4, 0, 0.2, 1), stroke 0.4s ease;
    }

    .score-text-wrap {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 2px;
    }

    .score-number {
      font-family: 'Playfair Display', serif;
      font-size: 48px;
      font-weight: 700;
      color: var(--accent);
      line-height: 1;
      transition: color 0.4s ease;
    }

    .score-denom {
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      color: var(--text-secondary);
      letter-spacing: 0.05em;
    }

    .score-label {
      font-family: 'EB Garamond', serif;
      font-size: 16px;
      color: var(--text-secondary);
      font-style: italic;
      margin-bottom: 8px;
    }

    .score-status {
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      font-weight: 500;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      padding: 4px 14px;
      border-radius: 20px;
      border: 1px solid var(--accent-border);
      color: var(--accent);
      transition: all 0.4s ease;
    }

    /* ── MAIN LAYOUT ── */
    .main {
      max-width: 840px;
      margin: 0 auto;
      padding: 0 24px 80px;
    }

    /* ── CATEGORY ── */
    .category {
      margin-bottom: 40px;
    }

    .category-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }

    .category-number {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: var(--bg-card);
      border: 1px solid var(--accent-border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Inter', sans-serif;
      font-size: 12px;
      font-weight: 600;
      color: var(--accent);
      flex-shrink: 0;
    }

    .category-title {
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      font-weight: 600;
      color: var(--text);
      letter-spacing: 0.01em;
    }

    .category-progress {
      margin-left: auto;
      font-family: 'Inter', sans-serif;
      font-size: 12px;
      color: var(--text-secondary);
    }

    /* ── CHECKLIST ITEM ── */
    .item {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px 20px;
      margin-bottom: 8px;
      display: grid;
      grid-template-columns: 36px 1fr auto;
      gap: 0 12px;
      align-items: start;
      cursor: pointer;
      transition: border-color 0.2s, background 0.2s;
      user-select: none;
    }

    .item:hover { border-color: var(--accent-border); }

    .item.checked {
      border-color: rgba(78, 201, 76, 0.25);
      background: rgba(78, 201, 76, 0.03);
    }

    .item-checkbox {
      width: 22px;
      height: 22px;
      border: 2px solid var(--border);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 2px;
      transition: all 0.2s;
    }

    .item.checked .item-checkbox {
      background: #4cc97a;
      border-color: #4cc97a;
    }

    .item-checkbox svg {
      opacity: 0;
      transition: opacity 0.2s;
    }

    .item.checked .item-checkbox svg { opacity: 1; }

    .item-body { min-width: 0; }

    .item-label {
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      font-weight: 500;
      color: var(--text);
      margin-bottom: 4px;
      transition: color 0.2s;
    }

    .item.checked .item-label {
      color: var(--text-secondary);
      text-decoration: line-through;
      text-decoration-color: rgba(138,128,112,0.4);
    }

    .item-explain {
      font-family: 'EB Garamond', serif;
      font-size: 14px;
      color: var(--text-secondary);
      font-style: italic;
      line-height: 1.4;
    }

    .item-status {
      font-family: 'Inter', sans-serif;
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      padding: 3px 10px;
      border-radius: 12px;
      white-space: nowrap;
      flex-shrink: 0;
      transition: all 0.2s;
    }

    .item-status.not-started {
      background: rgba(201,76,76,0.1);
      color: var(--danger);
      border: 1px solid rgba(201,76,76,0.2);
    }

    .item-status.needs-attention {
      background: rgba(201,138,76,0.1);
      color: var(--amber);
      border: 1px solid rgba(201,138,76,0.2);
    }

    .item-status.done {
      background: rgba(76,201,122,0.1);
      color: var(--green);
      border: 1px solid rgba(76,201,122,0.2);
    }

    /* ── ACTIONS ── */
    .actions {
      margin-top: 48px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
    }

    .btn-download {
      background: var(--accent);
      color: #0a0a0a;
      border: none;
      border-radius: var(--radius);
      padding: 14px 40px;
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-download:hover {
      background: #d4b566;
      transform: translateY(-1px);
    }

    .btn-reset {
      background: transparent;
      color: var(--text-secondary);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 10px 24px;
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-reset:hover { color: var(--text); border-color: var(--text-secondary); }

    .pro-note {
      margin-top: 32px;
      background: var(--bg-card);
      border: 1px solid var(--accent-border);
      border-radius: var(--radius);
      padding: 16px 20px;
      text-align: center;
      font-family: 'EB Garamond', serif;
      font-size: 16px;
      color: var(--text-secondary);
      font-style: italic;
    }

    .pro-note strong {
      color: var(--accent);
      font-style: normal;
      font-weight: 500;
    }

    /* ── PRINT STYLES ── */
    @media print {
      nav, .score-section, .actions, .pro-note { display: none !important; }

      body { background: white; color: #111; }

      .hero { padding: 20px 0; }
      .hero h1, .hero p { color: #111; }

      .category { break-inside: avoid; }

      .item {
        background: white;
        border-color: #ccc;
        break-inside: avoid;
      }

      .item-label, .item-explain { color: #111; }

      .print-header {
        display: block !important;
        font-family: 'Inter', sans-serif;
        font-size: 13px;
        color: #555;
        text-align: right;
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 1px solid #ccc;
      }
    }

    .print-header { display: none; }

    /* ── RESPONSIVE ── */
    @media (max-width: 600px) {
      .item {
        grid-template-columns: 28px 1fr;
        grid-template-rows: auto auto;
      }
      .item-status {
        grid-column: 2;
        justify-self: start;
        margin-top: 6px;
      }
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav>
    <a href="./index.html" class="nav-back" onclick="gtag('event','hm_click',{element:'nav_back'})">
      ← Dashboard
    </a>
    <a href="./index.html" class="nav-logo">
      Bitcoin <span>Estate</span> Watch
    </a>
  </nav>

  <!-- HERO -->
  <div class="hero">
    <div class="print-header" id="printHeader"></div>
    <h1>Succession Scorecard</h1>
    <p>20 measures of heir readiness. Brutally honest. Actionable.</p>
  </div>

  <!-- SCORE CIRCLE -->
  <div class="score-section">
    <div class="score-circle-wrap">
      <svg class="score-svg" viewBox="0 0 200 200">
        <circle class="score-track" cx="100" cy="100" r="85" />
        <circle class="score-progress" id="scoreProgress" cx="100" cy="100" r="85" />
      </svg>
      <div class="score-text-wrap">
        <span class="score-number" id="scoreNumber">0</span>
        <span class="score-denom">/100</span>
      </div>
    </div>
    <p class="score-label">Your Succession Score</p>
    <div class="score-status" id="scoreStatus">Not Started</div>
  </div>

  <!-- MAIN CONTENT -->
  <main class="main">

    <!-- CATEGORY 1 -->
    <div class="category">
      <div class="category-header">
        <div class="category-number">1</div>
        <h2 class="category-title">Legal Documents</h2>
        <span class="category-progress" id="cat1-progress">0 / 5</span>
      </div>

      <div class="item" data-item="1" data-category="1" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Will or trust created</div>
          <div class="item-explain">The foundation. Without it, Bitcoin passes via intestate succession.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="2" data-category="1" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Will/trust reviewed in last 3 years</div>
          <div class="item-explain">Bitcoin law evolves. Your documents should too.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="3" data-category="1" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Durable POA with digital asset language</div>
          <div class="item-explain">Without this, incapacity = locked Bitcoin.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="4" data-category="1" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Healthcare directive / living will</div>
          <div class="item-explain">Separate from Bitcoin but part of complete incapacity planning.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="5" data-category="1" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">State-specific requirements verified</div>
          <div class="item-explain">Witness requirements, notarization, and filing vary by state.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>
    </div>

    <!-- CATEGORY 2 -->
    <div class="category">
      <div class="category-header">
        <div class="category-number">2</div>
        <h2 class="category-title">Bitcoin Access</h2>
        <span class="category-progress" id="cat2-progress">0 / 5</span>
      </div>

      <div class="item" data-item="6" data-category="2" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Letter of Instruction (LOI) created</div>
          <div class="item-explain">The operational guide your executor needs.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="7" data-category="2" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">LOI location documented and known to executor</div>
          <div class="item-explain">Created but unfindable = doesn't exist.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="8" data-category="2" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Hardware wallet seed phrase backed up</div>
          <div class="item-explain">On metal. Not paper. Not digital.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="9" data-category="2" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Passphrase documented separately from seed</div>
          <div class="item-explain">The most common reason heirs access an empty wallet.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="10" data-category="2" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Executor is Bitcoin-literate</div>
          <div class="item-explain">Or has been briefed on who to call for help.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>
    </div>

    <!-- CATEGORY 3 -->
    <div class="category">
      <div class="category-header">
        <div class="category-number">3</div>
        <h2 class="category-title">Estate Structure</h2>
        <span class="category-progress" id="cat3-progress">0 / 5</span>
      </div>

      <div class="item" data-item="11" data-category="3" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Beneficiary designations updated</div>
          <div class="item-explain">Exchange accounts, IRA, retirement. All of them.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="12" data-category="3" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Trust funded with Bitcoin</div>
          <div class="item-explain">A trust that doesn't hold the Bitcoin isn't protecting it.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="13" data-category="3" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">State estate tax threshold analyzed</div>
          <div class="item-explain">12 states have estate taxes. Do you know your state's?</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="14" data-category="3" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Estate exposure calculated at current BTC price</div>
          <div class="item-explain">Recalculate every time price moves 20%+.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="15" data-category="3" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Annual gifting strategy in place</div>
          <div class="item-explain">$18K/year per recipient removes Bitcoin from your estate.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>
    </div>

    <!-- CATEGORY 4 -->
    <div class="category">
      <div class="category-header">
        <div class="category-number">4</div>
        <h2 class="category-title">Heir Education &amp; Governance</h2>
        <span class="category-progress" id="cat4-progress">0 / 5</span>
      </div>

      <div class="item" data-item="16" data-category="4" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Heir education in progress</div>
          <div class="item-explain">At least one heir understands Bitcoin fundamentals.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="17" data-category="4" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">IPS (Investment Policy Statement) created</div>
          <div class="item-explain">Defines custody standards, concentration limits, governance.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="18" data-category="4" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Attorney consulted in last 2 years</div>
          <div class="item-explain">Estate law and Bitcoin law both change.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="19" data-category="4" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">CPA reviewed tax strategy</div>
          <div class="item-explain">Mining, gifting, Roth conversion — tax strategy is estate strategy.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>

      <div class="item" data-item="20" data-category="4" onclick="toggleItem(this)">
        <div class="item-checkbox">
          <svg width="13" height="10" viewBox="0 0 13 10" fill="none">
            <path d="M1 5L5 9L12 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="item-body">
          <div class="item-label">Emergency access protocol tested</div>
          <div class="item-explain">You (or a designated person) tested heir access once.</div>
        </div>
        <span class="item-status not-started">Not Started</span>
      </div>
    </div>

    <!-- ACTIONS -->
    <div class="actions">
      <button class="btn-download" onclick="downloadReport(); gtag('event','hm_click',{element:'download_report'})">
        Download Report
      </button>
      <button class="btn-reset" onclick="resetAll(); gtag('event','hm_click',{element:'reset_scorecard'})">
        Reset Scorecard
      </button>
    </div>

    <div class="pro-note">
      <strong>Watch Pro:</strong> Full scorecard tracking with reminders, year-over-year comparison, and advisor sharing available in Watch Pro.
    </div>

  </main>

  <script>
    // ── STATE ──
    const STORAGE_KEY = 'bew_scorecard_v1';
    let checkedItems = new Set();

    const CIRCUMFERENCE = 2 * Math.PI * 85; // 534.07

    // ── ITEM DATA ──
    const ITEMS = {
      1: { label: 'Will or trust created', cat: 1 },
      2: { label: 'Will/trust reviewed in last 3 years', cat: 1 },
      3: { label: 'Durable POA with digital asset language', cat: 1 },
      4: { label: 'Healthcare directive / living will', cat: 1 },
      5: { label: 'State-specific requirements verified', cat: 1 },
      6: { label: 'Letter of Instruction (LOI) created', cat: 2 },
      7: { label: 'LOI location documented and known to executor', cat: 2 },
      8: { label: 'Hardware wallet seed phrase backed up', cat: 2 },
      9: { label: 'Passphrase documented separately from seed', cat: 2 },
      10: { label: 'Executor is Bitcoin-literate', cat: 2 },
      11: { label: 'Beneficiary designations updated', cat: 3 },
      12: { label: 'Trust funded with Bitcoin', cat: 3 },
      13: { label: 'State estate tax threshold analyzed', cat: 3 },
      14: { label: 'Estate exposure calculated at current BTC price', cat: 3 },
      15: { label: 'Annual gifting strategy in place', cat: 3 },
      16: { label: 'Heir education in progress', cat: 4 },
      17: { label: 'IPS (Investment Policy Statement) created', cat: 4 },
      18: { label: 'Attorney consulted in last 2 years', cat: 4 },
      19: { label: 'CPA reviewed tax strategy', cat: 4 },
      20: { label: 'Emergency access protocol tested', cat: 4 }
    };

    const CAT_NAMES = {
      1: 'Legal Documents',
      2: 'Bitcoin Access',
      3: 'Estate Structure',
      4: 'Heir Education & Governance'
    };

    // ── LOAD STATE ──
    function loadState() {
      try {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (saved) {
          const arr = JSON.parse(saved);
          checkedItems = new Set(arr);
          arr.forEach(id => applyChecked(id, true));
        }
      } catch(e) {}
      updateScore();
    }

    function saveState() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify([...checkedItems]));
    }

    // ── TOGGLE ──
    function toggleItem(el) {
      const id = parseInt(el.dataset.item);
      const statusEl = el.querySelector('.item-status');

      if (checkedItems.has(id)) {
        checkedItems.delete(id);
        el.classList.remove('checked');
        statusEl.className = 'item-status not-started';
        statusEl.textContent = 'Not Started';
      } else {
        checkedItems.add(id);
        el.classList.add('checked');
        statusEl.className = 'item-status done';
        statusEl.textContent = 'Done';
      }

      saveState();
      updateScore();
      updateCategoryProgress();

      gtag('event', 'hm_click', {
        element: 'scorecard_item',
        item_id: id,
        checked: checkedItems.has(id)
      });
    }

    function applyChecked(id, silent) {
      const el = document.querySelector(`[data-item="${id}"]`);
      if (!el) return;
      const statusEl = el.querySelector('.item-status');
      el.classList.add('checked');
      statusEl.className = 'item-status done';
      statusEl.textContent = 'Done';
    }

    // ── SCORE ──
    function updateScore() {
      const score = checkedItems.size * 5;
      const progress = document.getElementById('scoreProgress');
      const numberEl = document.getElementById('scoreNumber');
      const statusEl = document.getElementById('scoreStatus');

      const offset = CIRCUMFERENCE - (score / 100) * CIRCUMFERENCE;
      progress.style.strokeDashoffset = offset;

      numberEl.textContent = score;

      let statusText, statusColor, strokeColor;
      if (score <= 40) {
        statusText = 'Needs Urgent Attention';
        statusColor = '#c94c4c';
        strokeColor = '#c94c4c';
      } else if (score <= 70) {
        statusText = 'In Progress';
        statusColor = '#c98a4c';
        strokeColor = '#c98a4c';
      } else if (score <= 90) {
        statusText = 'Well Prepared';
        statusColor = '#c9a84c';
        strokeColor = '#c9a84c';
      } else {
        statusText = 'Excellent';
        statusColor = '#4cc97a';
        strokeColor = '#4cc97a';
      }

      progress.style.stroke = strokeColor;
      numberEl.style.color = strokeColor;
      statusEl.textContent = statusText;
      statusEl.style.color = statusColor;
      statusEl.style.borderColor = statusColor + '40';
    }

    function updateCategoryProgress() {
      for (let cat = 1; cat <= 4; cat++) {
        const items = Object.entries(ITEMS).filter(([,v]) => v.cat === cat);
        const done = items.filter(([id]) => checkedItems.has(parseInt(id))).length;
        document.getElementById(`cat${cat}-progress`).textContent = `${done} / 5`;
      }
    }

    // ── DOWNLOAD REPORT ──
    function downloadReport() {
      const score = checkedItems.size * 5;
      const date = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });

      document.getElementById('printHeader').textContent =
        `Bitcoin Estate Watch — Succession Scorecard — Generated ${date}`;

      let statusLabel;
      if (score <= 40) statusLabel = 'Needs Urgent Attention';
      else if (score <= 70) statusLabel = 'In Progress';
      else if (score <= 90) statusLabel = 'Well Prepared';
      else statusLabel = 'Excellent';

      window.print();
    }

    // ── RESET ──
    function resetAll() {
      if (!confirm('Reset all scorecard progress? This cannot be undone.')) return;
      checkedItems.clear();
      document.querySelectorAll('.item').forEach(el => {
        el.classList.remove('checked');
        const s = el.querySelector('.item-status');
        s.className = 'item-status not-started';
        s.textContent = 'Not Started';
      });
      saveState();
      updateScore();
      updateCategoryProgress();
    }

    // ── INIT ──
    document.addEventListener('DOMContentLoaded', () => {
      loadState();
      updateCategoryProgress();
    });
  </script>
  <script defer src="/assets/chat-widget.js"></script>
</body>
</html>
